(this.webpackJsonpcontact_book=this.webpackJsonpcontact_book||[]).push([[0],{170:function(e,t,a){e.exports={headerWrapper:"HeaderContactList_headerWrapper__3_IiF",preloader:"HeaderContactList_preloader__DhQy3",deleteButton:"HeaderContactList_deleteButton__2EvRw",hideButton:"HeaderContactList_hideButton__3nQIN",searchButton:"HeaderContactList_searchButton__2ICcr",nameLink:"HeaderContactList_nameLink__-diZR",link:"HeaderContactList_link__3pyvI"}},209:function(e,t,a){},210:function(e,t,a){},216:function(e,t,a){e.exports={"MuiTablePagination-root":"phone_MuiTablePagination-root__23TYL"}},220:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"getContacts",(function(){return X})),a.d(n,"getContactsBirthday",(function(){return Q})),a.d(n,"setPage",(function(){return q})),a.d(n,"setTake",(function(){return Y}));var r={};a.r(r),a.d(r,"getLogin",(function(){return ae})),a.d(r,"logOut",(function(){return ne}));var c={};a.r(c),a.d(c,"setSearchParams",(function(){return ce}));var i={};a.r(i),a.d(i,"addContact",(function(){return se}));var o={};a.r(o),a.d(o,"updateContact",(function(){return pe}));var s={};a.r(s),a.d(s,"deleteContacts",(function(){return me})),a.d(s,"deleteAll",(function(){return he}));var l={};a.r(l),a.d(l,"addPhone",(function(){return fe})),a.d(l,"editPhone",(function(){return Oe})),a.d(l,"deletePhone",(function(){return xe}));var u={};a.r(u),a.d(u,"sendMail",(function(){return ge}));var d={};a.r(d),a.d(d,"saveAvatar",(function(){return Ce}));var p={};a.r(p),a.d(p,"addAttachment",(function(){return ve})),a.d(p,"editAttachment",(function(){return ye})),a.d(p,"deleteAttachment",(function(){return Ne}));var j,b,m=a(0),h=a.n(m),f=a(22),O=a.n(f),x=(a(209),a(210),a(78)),g=a(23),C=a(24),v=a(3),y=a(7),N=a(232),S=a(89),T=a(266),E=a(94),w=a(267),_=a(145),A=a(84),L=a(67),k=a(73),D=a(9),U=a.n(D),I=a(13);!function(e){e.GET_CONTACTS="[Contact List] Get Contacts",e.GET_CONTACTS_SUCCESS="[Contact List] Get Contacts Success",e.GET_CONTACTS_FAILURE="[Contact List] Get Contacts Failure",e.SET_CONTACTS_PAGE="[Contact List] Set Contacts Page",e.SET_CONTACTS_TAKE="[Contact List] Set Contacts Take"}(j||(j={})),function(e){e.BASE_URL="http://localhost:8080/api",e.GET_CONTACTS_URL="/contacts",e.CREATE_CONTACTS_URL="/contacts/create",e.UPDATE_CONTACTS_URL="/contacts/update",e.DELETE_CONTACTS_URL="/contacts/delete",e.DELETE_ALL_CONTACTS_URL="/contacts/deleteAll",e.GET_LOGIN_URL="/contacts/login",e.SEND_MAIL="/contacts/sendEmails"}(b||(b={}));var P,R=function(e,t,a){return Object(I.a)(U.a.mark((function n(){var r;return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={method:"POST",headers:Object(v.a)(Object(v.a)({},F),a),body:JSON.stringify(t)},n.next=3,fetch(e,r).then((function(e){return G(e)}));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})))()},B=function(e,t,a){return Object(I.a)(U.a.mark((function n(){var r;return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={method:"PUT",headers:Object(v.a)(Object(v.a)({},F),a),body:JSON.stringify(t)},n.next=3,fetch(e,r).then((function(e){return G(e)}));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})))()},M=function(e,t,a){return Object(I.a)(U.a.mark((function n(){var r;return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={method:"DELETE",headers:Object(v.a)(Object(v.a)({},F),a),body:JSON.stringify(t)},n.next=3,fetch(e,r).then((function(e){return G(e)}));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)})))()},G=function(e){return e},F={Accept:"application/json","Content-Type":"application/json"},W=function(){var e=Object(I.a)(U.a.mark((function e(t){var a,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(b.BASE_URL).concat(b.GET_CONTACTS_URL),e.next=3,R(a,t);case 3:return n=e.sent,e.abrupt("return",n.json());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(I.a)(U.a.mark((function e(){var t,a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(b.BASE_URL).concat(b.GET_CONTACTS_URL),e.next=3,R(t,{});case 3:return a=e.sent,e.abrupt("return",a.json());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(I.a)(U.a.mark((function e(t,a,n){var r,c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://localhost:8080/api",r="".concat("http://localhost:8080/api").concat(b.SEND_MAIL),e.next=4,R(r,{emails:t,theme:a,text:n});case 4:return c=e.sent,e.abrupt("return",c.json());case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}();!function(e){e.SEND_MAIL="[Send mail] Send mail",e.SEND_MAIL_SUCCESS="[Send mail] Send mail Success",e.SEND_MAIL_FAILURE="[Send mail] Send mail Failure"}(P||(P={}));var H,z=a(162),K=a.n(z),Z=function(e,t){return K()(new Date(e)).format(t)},$=function(){var e=Object(I.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){var n=new FileReader;n.readAsDataURL(t),n.onload=function(){return e(n.result)},n.onerror=function(e){return a(e)}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){return function(){var e=Object(I.a)(U.a.mark((function e(t,a){var n,r,c,i,o;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:j.GET_CONTACTS}),n=a().search.searchParams,r=a().contacts,c=r.take,i=r.page,o=Object(v.a)(Object(v.a)({},n),{},{page:i,take:c}),e.next=6,W(o).then(function(){var e=Object(I.a)(U.a.mark((function e(a){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.isSuccess&&t({type:j.GET_CONTACTS_SUCCESS,payload:{users:null===a||void 0===a?void 0:a.data,maxUsers:null===a||void 0===a?void 0:a.maxUsers}});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t({type:j.GET_CONTACTS_FAILURE,errors:e})}));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},Q=function(e){return function(){var t=Object(I.a)(U.a.mark((function t(a,n){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:j.GET_CONTACTS}),t.next=3,V().then(function(){var t=Object(I.a)(U.a.mark((function t(n){var r,c,i,o;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.isSuccess){t.next=10;break}if(r=null===n||void 0===n?void 0:n.data,c=new Date,Z(c,"DD.MM.yyyy"),"01.01.2007",i=r.filter((function(e){return"01.01.2007"===e.birthDate})),o=i.map((function(e){return"".concat(e.name," ").concat(e.surname)})).join(", "),0===i.length){t.next=10;break}return t.next=10,J(["".concat(e)],"\u041d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u0435","\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0414\u0435\u043d\u044c \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u0443 ".concat(o)).then(function(){var e=Object(I.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isSuccess&&a({type:P.SEND_MAIL_SUCCESS});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){a({type:P.SEND_MAIL_FAILURE,errors:e})}));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){a({type:j.GET_CONTACTS_FAILURE,errors:e})}));case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},q=function(e){return function(t){t({type:j.SET_CONTACTS_PAGE,page:e})}},Y=function(e){return function(t){t({type:j.SET_CONTACTS_TAKE,take:e})}};!function(e){e.GET_LOGIN="[Login Action] Get Login",e.GET_LOGIN_SUCCESS="[Login Action] Get Login Success",e.GET_LOGIN_FAILURE="[Login Action] GetLogin Failure",e.LOGOUT_SUCCESS="[Login Action] Logout Success"}(H||(H={}));var ee,te=function(){var e=Object(I.a)(U.a.mark((function e(t,a){var n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(b.BASE_URL).concat(b.GET_LOGIN_URL),e.next=3,R(n,{email:t,password:a});case 3:return r=e.sent,e.abrupt("return",r.json());case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ae=function(e,t){return function(){var a=Object(I.a)(U.a.mark((function a(n,r){return U.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:H.GET_LOGIN}),a.next=3,te(e,t).then((function(e){e.user.length>0&&n({type:H.GET_LOGIN_SUCCESS,payload:e.user})})).catch((function(e){n({type:H.GET_LOGIN_FAILURE,errors:e})}));case 3:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},ne=function(){return function(){var e=Object(I.a)(U.a.mark((function e(t,a){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a().contacts.data,null,t({type:H.LOGOUT_SUCCESS}),n={},e.next=6,W(n).then(function(){var e=Object(I.a)(U.a.mark((function e(a){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.isSuccess&&t({type:j.GET_CONTACTS_SUCCESS,payload:{users:null,maxUsers:null===a||void 0===a?void 0:a.maxUsers}});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){t({type:j.GET_CONTACTS_FAILURE,errors:e})}));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()};!function(e){e.SET_SEARCH_PARAMS="[Search panel] Set Search Params"}(ee||(ee={}));var re,ce=function(e){return function(t){t({type:ee.SET_SEARCH_PARAMS,payload:e})}};!function(e){e.CREATE_CONTACT="[Create User] Create User",e.CREATE_CONTACT_SUCCESS="[Create User] Create User Success",e.CREATE_CONTACT_FAILURE="[Create User] Create User Failure"}(re||(re={}));var ie,oe=function(){var e=Object(I.a)(U.a.mark((function e(t){var a,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://localhost:8080/api",a="".concat("http://localhost:8080/api").concat(b.CREATE_CONTACTS_URL),e.next=4,R(a,t);case 4:return n=e.sent,e.abrupt("return",n.json());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(e){return function(){var t=Object(I.a)(U.a.mark((function t(a,n){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:re.CREATE_CONTACT}),t.next=3,oe(e).then(function(){var e=Object(I.a)(U.a.mark((function e(t){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isSuccess){e.next=5;break}return e.next=3,W({});case 3:n=e.sent,a({type:j.GET_CONTACTS,payload:{users:null===n||void 0===n?void 0:n.data,maxUsers:null===t||void 0===t?void 0:t.maxUsers}});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){a({type:re.CREATE_CONTACT_FAILURE,errors:e})}));case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},le=function(){var e=Object(I.a)(U.a.mark((function e(t){var a,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://localhost:8080/api",a="".concat("http://localhost:8080/api").concat(b.UPDATE_CONTACTS_URL),e.next=4,B(a,t);case 4:return n=e.sent,e.abrupt("return",n.json());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();!function(e){e.UPDATE_CONTACT="[Update User] Update User",e.UPDATE_CONTACT_SUCCESS="[Update User] Update User Success",e.UPDATE_CONTACT_FAILURE="[Update User] Update User Failure"}(ie||(ie={}));var ue,de=a(38),pe=function(e){return function(){var t=Object(I.a)(U.a.mark((function t(a,n){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:ie.UPDATE_CONTACT}),t.next=3,le(e).then(function(){var e=Object(I.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isSuccess&&a(Object(de.d)(Xt.HOME));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){a({type:ie.UPDATE_CONTACT_FAILURE,errors:e})}));case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},je=function(){var e=Object(I.a)(U.a.mark((function e(t){var a,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(b.BASE_URL).concat(b.DELETE_CONTACTS_URL),e.next=3,R(a,{deletedContacts:t});case 3:return n=e.sent,e.abrupt("return",n.json());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=Object(I.a)(U.a.mark((function e(){var t,a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(b.BASE_URL).concat(b.DELETE_ALL_CONTACTS_URL),e.next=3,M(t,{});case 3:return a=e.sent,e.abrupt("return",a.json());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();!function(e){e.DELETE_CONTACT="[Delete User] Delete User",e.DELETE_CONTACT_SUCCESS="[Delete User] Delete User Success",e.DELETE_CONTACT_FAILURE="[Delete User] Delete User Failure"}(ue||(ue={}));var me=function(e){return function(){var t=Object(I.a)(U.a.mark((function t(a,n){var r,c,i,o,s;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:ue.DELETE_CONTACT}),r=n().search.searchParams,c=n().contacts,i=c.take,o=c.page,s=Object(v.a)(Object(v.a)({},r),{},{page:o,take:i}),t.next=6,je(e).then(function(){var e=Object(I.a)(U.a.mark((function e(t){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isSuccess){e.next=6;break}return e.next=3,W(s);case 3:n=e.sent,a({type:ue.DELETE_CONTACT_SUCCESS}),a({type:j.GET_CONTACTS_SUCCESS,payload:{users:null===n||void 0===n?void 0:n.data,maxUsers:null===n||void 0===n?void 0:n.maxUsers}});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){a({type:ue.DELETE_CONTACT_FAILURE,errors:e})}));case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},he=function(){return function(){var e=Object(I.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:ue.DELETE_CONTACT}),e.next=3,be().then((function(e){e.isSuccess&&(t({type:j.GET_CONTACTS_SUCCESS,payload:{users:[],maxUsers:0}}),t({type:ue.DELETE_CONTACT_SUCCESS}))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},fe=function(e,t){return function(){var a=Object(I.a)(U.a.mark((function a(n,r){var c,i,o,s;return U.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n({type:j.GET_CONTACTS}),c=r().contacts,i=c.data,o=c.maxUsers,s=i.map((function(a){var n=JSON.parse(JSON.stringify(a));return n.id===t?(n.phones&&n.phones.length>0?n.phones.push(e):n.phones=[e],n):a})),n({type:j.GET_CONTACTS_SUCCESS,payload:{users:s,maxUsers:o}});case 4:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},Oe=function(e,t){return function(){var a=Object(I.a)(U.a.mark((function a(n,r){var c,i,o,s;return U.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n({type:j.GET_CONTACTS}),c=r().contacts,i=c.data,o=c.maxUsers,s=i.map((function(a){var n=JSON.parse(JSON.stringify(a));if(n.id===t){var r=n.phones.map((function(t){return t.id===e.id?e:t}));return Object(v.a)(Object(v.a)({},n),{},{phones:r})}return a})),n({type:j.GET_CONTACTS_SUCCESS,payload:{users:s,maxUsers:o}});case 4:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},xe=function(e,t){return function(){var a=Object(I.a)(U.a.mark((function a(n,r){var c,i,o,s;return U.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n({type:j.GET_CONTACTS}),c=r().contacts,i=c.data,o=c.maxUsers,s=i.map((function(a){var n=JSON.parse(JSON.stringify(a));return n.id===e?(n.phones=n.phones.filter((function(e){return e.id!==t})),n):a})),n({type:j.GET_CONTACTS_SUCCESS,payload:{users:s,maxUsers:o}});case 4:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},ge=function(e,t,a){return function(){var n=Object(I.a)(U.a.mark((function n(r,c){return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:P.SEND_MAIL}),n.next=3,J(e,t,a).then(function(){var e=Object(I.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isSuccess&&r(Object(de.d)(Xt.HOME));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){r({type:P.SEND_MAIL_FAILURE,errors:e})}));case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},Ce=function(e,t,a){return function(){var n=Object(I.a)(U.a.mark((function n(r,c){var i,o,s,l;return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r({type:j.GET_CONTACTS}),i=c().contacts,o=i.data,s=i.maxUsers,l=o.map((function(n){var r=JSON.parse(JSON.stringify(n));return r.id===a&&(r.logo={name:e,file:t}),a||(n.logo={name:e,file:t}),r})),r({type:j.GET_CONTACTS_SUCCESS,payload:{users:l,maxUsers:s}});case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},ve=function(e,t){return function(){var a=Object(I.a)(U.a.mark((function a(n,r){var c,i,o,s;return U.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n({type:j.GET_CONTACTS}),c=r().contacts,i=c.data,o=c.maxUsers,s=i.map((function(a){var n=JSON.parse(JSON.stringify(a)),r=new Date,c=Z(r,"DD.MM.yyyy");return n.id===t?(n.attachments&&n.attachments.length>0?n.attachments.push(Object(v.a)(Object(v.a)({},e),{},{uploadDate:c})):n.attachments=[Object(v.a)(Object(v.a)({},e),{},{uploadDate:c})],n):a})),n({type:j.GET_CONTACTS_SUCCESS,payload:{users:s,maxUsers:o}});case 4:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},ye=function(e,t){return function(){var a=Object(I.a)(U.a.mark((function a(n,r){var c,i,o,s;return U.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n({type:j.GET_CONTACTS}),c=r().contacts,i=c.data,o=c.maxUsers,s=i.map((function(a){var n=JSON.parse(JSON.stringify(a));if(n.id===t){var r=n.attachments.map((function(t){return t.id===e.id?e:t}));return Object(v.a)(Object(v.a)({},n),{},{attachments:r})}return a})),n({type:j.GET_CONTACTS_SUCCESS,payload:{users:s,maxUsers:o}});case 4:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},Ne=function(e,t){return function(){var a=Object(I.a)(U.a.mark((function a(n,r){var c,i,o,s;return U.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n({type:j.GET_CONTACTS}),c=r().contacts,i=c.data,o=c.maxUsers,s=i.map((function(a){var n=JSON.parse(JSON.stringify(a));return n.id===e?(n.attachments=n.attachments.filter((function(e){return e.id!==t})),n):a})),n({type:j.GET_CONTACTS_SUCCESS,payload:{users:s,maxUsers:o}});case 4:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},Se=Object(v.a)(Object(v.a)(Object(v.a)(Object(v.a)(Object(v.a)(Object(v.a)(Object(v.a)(Object(v.a)(Object(v.a)(Object(v.a)({},n),r),c),i),o),s),l),u),d),p),Te=function(){var e=Object(L.d)();return Object(k.bindActionCreators)(Se,e)},Ee=a(158),we=Object(Ee.a)({editBG:{backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundColor:"whitesmoke"},container:{maxWidth:1200,margin:"0 auto"},avatar:{position:"relative",width:220,paddingLeft:20,paddingTop:60},editForm:{display:"flex"},form:{width:"100%"},row:{display:"flex",flexDirection:"column",justifyContent:"center"},title:{padding:20,fontSize:28,textAlign:"center",color:"#3451b9",fontFamily:"Sans-Serif"},contactWrapper:{},wrapperInput:{padding:"10px 0",display:"flex",flexDirection:"column",justifyContent:"center",boxShadow:"rgba(149, 157, 165, 0.2) 0px 8px 24px"},input:{margin:"0 10px 10px"},contactInfo:{display:"flex",flexWrap:"wrap",justifyContent:"space-around"},dateWrapper:{display:"flex",justifyContent:"space-between",flexDirection:"column"},date:{margin:"0 10px 10px 10px",width:195},period:{display:"flex",justifyContent:"center",flexWrap:"wrap"},buttonWrapper:{display:"flex",justifyContent:"space-around",marginTop:20},button:{padding:0},prevButton:{width:50,height:50,position:"relative",top:20,left:10,border:"1px solid black"},editButton:{padding:10,margin:20},submitButton:{position:"relative",display:"flex",justifyContent:"center",marginTop:0},wrapperButtonEditPage:{display:"flex",justifyContent:"center"},buttonEditForm:{margin:20}}),_e=a(274),Ae=a(166),Le=a.n(Ae),ke=a(271),De=a(275),Ue=a(54),Ie=Object(Ue.a)({wrapper:{paddingTop:10,paddingLeft:10,display:"flex",flexWrap:"wrap"},box:{width:"500%"},logoLabel:{cursor:"pointer"},logoInput:{display:"none"},avatar:{width:200,height:200,padding:"10",marginBottom:10},button:{backgroundColor:"#3451b9",color:"white",marginBottom:20},editorWrapper:{display:"block"}}),Pe=a(1),Re=function(e){var t=e.contact,a=e.setLogo,n=Ie(),r=Te().saveAvatar,c=Object(m.useState)(t.imagePath),i=Object(y.a)(c,2),o=i[0],s=i[1],l="",u=Object(m.useState)({cropperOpen:!1,img:null,zoom:1,croppedImg:"https://upload.wikimedia.org/wikipedia/commons/0/09/Man_Silhouette.png"}),d=Object(y.a)(u,2),p=d[0],j=d[1];return Object(Pe.jsx)("div",{children:Object(Pe.jsxs)(ke.a,{className:n.wrapper,children:[Object(Pe.jsxs)(ke.a,{className:n.box,children:[Object(Pe.jsx)("label",{htmlFor:"logoCheck",className:n.logoLabel,children:Object(Pe.jsx)(_e.a,{className:n.avatar,src:o})}),Object(Pe.jsx)("input",{className:n.logoInput,type:"file",accept:"image/*",id:"logoCheck",onChange:function(e){j(Object(v.a)(Object(v.a)({},p),{},{img:e.target.files[0],cropperOpen:!0}))}})]}),p.cropperOpen&&Object(Pe.jsxs)(ke.a,{className:n.editorWrapper,children:[Object(Pe.jsx)(Le.a,{ref:function(e){l=e},image:p.img,width:200,height:200,border:5,color:[255,255,255,.6],rotate:0,scale:p.zoom}),Object(Pe.jsx)(De.a,{"aria-label":"raceSlider",value:p.zoom,min:1,max:10,step:.1,onChange:function(e,t){j(Object(v.a)(Object(v.a)({},p),{},{zoom:t}))}}),Object(Pe.jsxs)(ke.a,{children:[Object(Pe.jsx)(A.a,{variant:"contained",onClick:function(){j(Object(v.a)(Object(v.a)({},p),{},{cropperOpen:!1}))},children:"Cancel"}),Object(Pe.jsx)(A.a,{onClick:function(){var e=l.getImageScaledToCanvas().toDataURL();if(j(Object(v.a)(Object(v.a)({},p),{},{img:null,cropperOpen:!1,croppedImg:e})),s(e),t.id)r(p.img.name,e,t.id);else{var n={name:p.img.name,file:e};a&&a(n)}},children:"Save"})]})]})]})})},Be=a(61),Me=(a(216),a(86)),Ge=a.n(Me),Fe=a(268),We=a(234),Ve=a(262),Je=a(225),He=a(160),ze=Object(Ee.a)((function(e){return Object(He.a)({modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{position:"relative",width:"auto",backgroundColor:e.palette.background.paper,display:"flex",flexDirection:"column",justifyContent:"center",padding:e.spacing(2,4,3)},modalTitle:{padding:20,fontSize:22,textAlign:"center",fontFamily:"Sans-Serif"},wrapperInput:{padding:"10px 0"},input:{marginLeft:10,marginRight:10},button:{position:"relative",left:"50%",marginRight:"-50%",transform:"translate(-50%, 50%)",margin:"80px 0 20px 0"},modalButtonClose:{position:"absolute",backgroundColor:"rgba(255,255,255,0)",top:0,right:0}})})),Ke=function(e){var t=e.title,a=e.body,n=e.buttons,r=e.open,c=e.onClose,i=ze();return Object(Pe.jsx)(We.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:i.modal,open:r,onClose:c,closeAfterTransition:!0,BackdropComponent:Ve.a,BackdropProps:{timeout:500},children:Object(Pe.jsx)(Je.a,{in:r,children:Object(Pe.jsxs)("div",{className:i.paper,children:[Object(Pe.jsx)(S.a,{className:i.modalButtonClose,onClick:c,"aria-label":"close",children:Object(Pe.jsx)(Be.b,{})}),Object(Pe.jsx)("h2",{className:i.modalTitle,id:"transition-modal-title",children:t}),a,n]})})})},Ze=Object(Ee.a)((function(e){return Object(He.a)({error:{fontSize:14,height:16,color:"red",position:"relative",left:10},wrapperInput:{padding:"10px 0",display:"flex",justifyContent:"center",flexDirection:"column"},input:{marginLeft:10,marginRight:10},button:{position:"relative",left:"50%",marginRight:"-50%",transform:"translate(-50%, 50%)",margin:"80px 0 20px 0"}})})),$e=function(e){var t=Ze(),a=Te().editPhone,n=e.phone,r=e.setOpen,c=e.contact,i=e.newPhones,o=e.setNewPhones,s=function(e){var t=e.target,a=t.name,r=t.value;"countryCode"===a&&(n.countryCode=r),"operatorID"===a&&(n.operatorID=r),"phoneNumber"===a&&(n.phoneNumber=r),"phoneType"===a&&(n.phoneType=r),"comment"===a&&(n.comment=r)};return Object(Pe.jsx)("div",{children:Object(Pe.jsx)(T.a,{container:!0,justifyContent:"center",children:Object(Pe.jsxs)(T.a,{item:!0,xs:10,children:[Object(Pe.jsx)("form",{children:Object(Pe.jsx)(E.a,{children:Object(Pe.jsx)(w.a,{children:Object(Pe.jsxs)("div",{className:t.wrapperInput,children:[Object(Pe.jsx)(_.a,{className:t.input,label:"\u041a\u043e\u0434 \u0441\u0442\u0430\u043d\u044b",name:"countryCode",type:"search",onChange:s,defaultValue:n.countryCode?n.countryCode:""}),Object(Pe.jsx)(_.a,{className:t.input,label:"\u041a\u043e\u0434 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0430",name:"operatorID",type:"search",onChange:s,defaultValue:n.operatorID?n.operatorID:""}),Object(Pe.jsx)(_.a,{className:t.input,label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440",name:"phoneNumber",type:"search",onChange:s,defaultValue:n.phoneNumber?n.phoneNumber:""}),Object(Pe.jsx)(_.a,{className:t.input,label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",name:"phoneType",type:"search",onChange:s,defaultValue:n.phoneType?n.phoneType:""}),Object(Pe.jsx)(_.a,{className:t.input,label:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",name:"comment",type:"search",onChange:s,defaultValue:n.comment?n.comment:""})]})})})}),Object(Pe.jsx)("div",{children:Object(Pe.jsx)(A.a,{className:t.button,variant:"contained",onClick:function(){if(!c.id){var e=i.map((function(e){return e.id===n.id?n:e}));return r(!1),o(e)}a(n,c.id),r(!1)},color:"primary",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"})})]})})})},Xe=a(28),Qe=a(121),qe=a(119),Ye=a.n(qe),et=["inputRef"],tt=["inputRef"],at=["inputRef"];function nt(e){var t=e.inputRef,a=Object(Qe.a)(e,et);return Object(Pe.jsx)(Ye.a,Object(v.a)(Object(v.a)({},a),{},{ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){t(e?e.inputElement:null)})),mask:["+",/\d/,/\d/,/\d/],placeholderChar:"\u2000",showMask:!0}))}function rt(e){var t=e.inputRef,a=Object(Qe.a)(e,tt);return Object(Pe.jsx)(Ye.a,Object(v.a)(Object(v.a)({},a),{},{ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){t(e?e.inputElement:null)})),mask:[/\d/,/\d/],placeholderChar:"\u2000",showMask:!0}))}function ct(e){var t=e.inputRef,a=Object(Qe.a)(e,at);return Object(Pe.jsx)(Ye.a,Object(v.a)(Object(v.a)({},a),{},{ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){t(e?e.inputElement:null)})),mask:[/\d/,/\d/,/\d/,/\d/,/\d/,/\d/,/\d/],placeholderChar:"\u2000",showMask:!0}))}var it=function(e){var t=Ze(),a=e.setOpen,n=e.contact,r=e.setNewPhones,c=e.newPhones,i=Object(m.useState)({countryCode:"",operatorID:"",phoneNumber:""}),o=Object(y.a)(i,2),s=o[0],l=o[1],u=Te().addPhone,d=Object(m.useState)({}),p=Object(y.a)(d,2),j=p[0],b=p[1],f=h.a.useState({countryCode:"+",operatorID:"",phoneNumber:""}),O=Object(y.a)(f,2),x=O[0],g=O[1],N=function(e){var t,a=n.phones?n.phones.length+1:(null===c||void 0===c?void 0:c.length)+1,r=e.target,i=r.name,o=r.value,s=Object(v.a)(Object(v.a)({},j),{},(t={},Object(C.a)(t,i,o),Object(C.a)(t,"id","phone".concat(String(a))),t));g(Object(v.a)(Object(v.a)({},x),{},Object(C.a)({},e.target.name,e.target.value))),b(s)},S=function(e){var t=e.target,a=/^(\+?\d{1,3}|\d{1,4})$/,n=/^[0-9]{2}$/,r=/^[0-9]{7}$/;return"countryCode"===t.name&&(a.test(t.value)?a.test(t.value)&&l(Object(v.a)(Object(v.a)({},s),{},{countryCode:""})):l(Object(v.a)(Object(v.a)({},s),{},{countryCode:"\u041f\u043e\u043b\u0435 \u0437\u0430\u043f\u043e\u043d\u0435\u043d\u043e \u043d\u0435\u0432\u0435\u0440\u043d\u043e"}))),"operatorID"===t.name&&(n.test(t.value)?n.test(t.value)&&l(Object(v.a)(Object(v.a)({},s),{},{operatorID:""})):l(Object(v.a)(Object(v.a)({},s),{},{operatorID:"\u041f\u043e\u043b\u0435 \u0437\u0430\u043f\u043e\u043d\u0435\u043d\u043e \u043d\u0435\u0432\u0435\u0440\u043d\u043e"}))),"phoneNumber"===t.name&&(r.test(t.value)?r.test(t.value)&&l(Object(v.a)(Object(v.a)({},s),{},{phoneNumber:""})):l(Object(v.a)(Object(v.a)({},s),{},{phoneNumber:"\u041f\u043e\u043b\u0435 \u0437\u0430\u043f\u043e\u043d\u0435\u043d\u043e \u043d\u0435\u0432\u0435\u0440\u043d\u043e"}))),s};return Object(Pe.jsx)("div",{children:Object(Pe.jsx)(T.a,{container:!0,justifyContent:"center",children:Object(Pe.jsxs)(T.a,{item:!0,xs:10,children:[Object(Pe.jsx)("form",{children:Object(Pe.jsx)(E.a,{children:Object(Pe.jsx)(w.a,{children:Object(Pe.jsxs)("div",{className:t.wrapperInput,children:[Object(Pe.jsx)(_.a,{className:t.input,title:"\u041a\u043e\u0434 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 +\u0425\u0425\u0425",label:"\u041a\u043e\u0434 \u0441\u0442\u0430\u043d\u044b",name:"countryCode",type:"search",value:x.countryCode,onBlur:S,onChange:N,InputProps:{inputComponent:nt}}),s.countryCode?Object(Pe.jsx)("div",{className:t.error,children:s.countryCode}):null,Object(Pe.jsx)(_.a,{className:t.input,title:"\u041a\u043e\u0434 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 \u0425\u0425",label:"\u041a\u043e\u0434 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0430",name:"operatorID",type:"search",value:x.operatorID,onBlur:S,onChange:N,InputProps:{inputComponent:rt}}),s.operatorID?Object(Pe.jsx)("div",{className:t.error,children:s.operatorID}):null,Object(Pe.jsx)(_.a,{className:t.input,title:"\u041d\u043e\u043c\u0435\u0440\u0430 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 \u0425\u0425\u0425\u0425\u0425\u0425\u0425",label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440",name:"phoneNumber",type:"search",value:x.phoneNumber,onBlur:S,onChange:N,InputProps:{inputComponent:ct}}),s.phoneNumber?Object(Pe.jsx)("div",{className:t.error,children:s.phoneNumber}):null,Object(Pe.jsx)(_.a,{className:t.input,label:"\u0422\u0438\u043f",name:"phoneType",type:"search",onChange:N}),Object(Pe.jsx)(_.a,{className:t.input,label:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",name:"comment",type:"search",onChange:N})]})})})}),Object(Pe.jsx)("div",{children:Object(Pe.jsx)(A.a,{className:t.button,variant:"contained",onClick:function(){n.id?u(j,n.id):r([].concat(Object(Xe.a)(c),[j])),a(!1)},color:"primary",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"})})]})})})},ot=Object(Ee.a)({phoneFormWrapper:{height:"auto",width:"100%"},phoneTable:{boxShadow:"rgba(149, 157, 165, 0.2) 0px 8px 24px"},button:{margin:"10px 0"},formTitle:{fontSize:28,padding:20,textAlign:"center",color:"#3451b9",fontFamily:"Sans-Serif"}}),st=function(e){var t=ot(),a=[{field:"phone",headerName:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440",width:200,filterable:!1,sortable:!1,renderCell:function(e){return Object(Pe.jsx)("span",{children:"".concat(e.row.countryCode," ").concat(e.row.operatorID," ").concat(e.row.phoneNumber)})}},{field:"countryCode",headerName:"\u041a\u043e\u0434 \u0441\u0442\u0440\u0430\u043d\u044b",width:200,filterable:!1,sortable:!1,hide:!0},{field:"operatorID",headerName:"\u041a\u043e\u0434 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0430",width:200,filterable:!1,sortable:!1,hide:!0},{field:"phoneNumber",headerName:"\u0442\u0435\u043b\u0435\u0444\u043e\u043d\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440",width:200,filterable:!1,sortable:!1,hide:!0},{field:"phoneType",headerName:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",width:160,filterable:!1,sortable:!1},{field:"comment",headerName:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",width:160,filterable:!1,sortable:!1,flex:1},{field:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",headerName:"",width:155,filterable:!1,sortable:!1,editable:!0,headerAlign:"center",renderCell:function(e){return Object(Pe.jsx)(S.a,{id:String(e.id),"aria-label":"edit",onClick:_,children:Object(Pe.jsx)(Ge.a,{})})}},{field:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",headerName:"",width:110,filterable:!1,sortable:!1,headerAlign:"center",renderCell:function(e){return Object(Pe.jsx)(S.a,{"aria-label":"del",id:String(e.id),onClick:L,children:Object(Pe.jsx)(Fe.a,{})})}}],n=e.contact,r=e.setNewPhones,c=e.newPhones,i=n.phones,o=Te().deletePhone,s=Object(m.useState)(!1),l=Object(y.a)(s,2),u=l[0],d=l[1],p=Object(m.useState)([]),j=Object(y.a)(p,2),b=j[0],h=j[1],f=Object(m.useState)(""),O=Object(y.a)(f,2),x=O[0],g=O[1],C=Object(m.useState)(Object(Pe.jsx)("div",{})),v=Object(y.a)(C,2),N=v[0],T=v[1],E=Object(m.useState)(Object(Pe.jsx)("div",{})),w=Object(y.a)(E,1)[0],_=function(e){var t=e.currentTarget.id;if(g("\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u043e\u043c\u0435\u0440\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"),d(!0),n.id){var a=n.phones.find((function(e){return e.id===t}));T(Object(Pe.jsx)($e,{phone:a,setOpen:d,contact:n}))}else{var i=c.find((function(e){return e.id===t}));T(Object(Pe.jsx)($e,{phone:i,setOpen:d,contact:n,newPhones:c,setNewPhones:r}))}},L=function(e){var t=e.currentTarget.id,a=n.id;n.id?o(a,t):r(null===c||void 0===c?void 0:c.filter((function(e){return e.id!==t})))};return Object(Pe.jsxs)("div",{className:t.phoneFormWrapper,children:[Object(Pe.jsx)("h2",{className:t.formTitle,children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u044b\u0435 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u044b"}),Object(Pe.jsx)(A.a,{className:t.button,variant:"outlined",color:"primary",onClick:function(e){g("\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"),T(Object(Pe.jsx)(it,{setOpen:d,contact:n,setNewPhones:r,newPhones:c})),d(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u043d\u043e\u043c\u0435\u0440"}),Object(Pe.jsx)(Be.a,{className:t.phoneTable,rows:i||c,columns:a,autoHeight:!0,disableSelectionOnClick:!0,hideFooter:!0,onSelectionModelChange:function(e){h(e)},selectionModel:b}),Object(Pe.jsx)(Ke,{open:u,onClose:function(){d(!1)},title:x,body:N,buttons:w})]})},lt=Object(Ee.a)({wrapperInput:{padding:"10px 0",display:"flex",flexDirection:"column",justifyContent:"center"},customUpload:{display:"flex",alignItems:"center"},attachmentFileName:{paddingLeft:10},attachmentButton:{marginLeft:10,marginRight:10,backgroundColor:"#3f51b5",display:"none"},input:{marginLeft:10,marginRight:10},editButton:{position:"relative",left:"50%",marginRight:"-50%",transform:"translate(-50%, 50%)",margin:"40px 0 20px 0"}}),ut=a(169),dt=a.n(ut),pt=function(e){var t=lt(),a=e.setOpen,n=e.contact,r=e.newAttachments,c=e.setNewAttachments,i=Te().addAttachment,o=Object(m.useState)({}),s=Object(y.a)(o,2),l=s[0],u=s[1],d=function(){var e=Object(I.a)(U.a.mark((function e(t){var a,n,r,c,i,o;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],n=a.name.lastIndexOf("."),r=a.name.substring(0,n),c=a.name.substring(n,a.name.length),e.next=6,$(a);case 6:i=e.sent,o=Object(v.a)(Object(v.a)({},l),{},{base64File:i,fileName:r,ext:c}),u(o);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();console.log(l);return Object(Pe.jsx)("div",{children:Object(Pe.jsx)(T.a,{container:!0,justifyContent:"center",children:Object(Pe.jsxs)(T.a,{item:!0,xs:10,children:[Object(Pe.jsx)("form",{children:Object(Pe.jsx)(E.a,{children:Object(Pe.jsx)(w.a,{children:Object(Pe.jsxs)("div",{className:t.wrapperInput,children:[Object(Pe.jsxs)("label",{htmlFor:"file-upload",className:t.customUpload,children:[Object(Pe.jsx)("div",{children:Object(Pe.jsx)(dt.a,{})}),Object(Pe.jsx)("div",{className:t.attachmentFileName,children:Object(Pe.jsx)("span",{children:l.fileName?"\u0418\u043c\u044f \u0444\u0430\u0439\u043b\u0430: ".concat(l.fileName):"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u0430\u0439\u043b"})})]}),Object(Pe.jsx)("input",{className:t.attachmentButton,name:"fileName",id:"file-upload",type:"file",onChange:d}),Object(Pe.jsx)(_.a,{className:t.input,label:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",name:"comment",type:"search",onChange:function(e){var t,a=n.attachments?n.attachments.length+1:(null===r||void 0===r?void 0:r.length)+1,c=e.target,i=c.name,o=c.value,s=Object(v.a)(Object(v.a)({},l),{},(t={},Object(C.a)(t,i,o),Object(C.a)(t,"id",String(a)),t));u(s)}})]})})})}),Object(Pe.jsx)("div",{children:Object(Pe.jsx)(A.a,{className:t.editButton,variant:"contained",onClick:function(){if(n.id)i(l,n.id);else{var e=new Date,t=Z(e,"DD.MM.yyyy");c([].concat(Object(Xe.a)(r),[Object(v.a)(Object(v.a)({},l),{},{uploadDate:t})]))}a(!1)},color:"primary",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"})})]})})})},jt=function(e){var t=lt(),a=Te().editAttachment,n=e.setOpen,r=e.attachment,c=e.contact,i=e.setNewAttachments,o=e.newAttachments,s=function(e){var t=e.target,a=t.name,n=t.value;"fileName"===a&&(r.fileName=n),"comment"===a&&(r.comment=n)};return Object(Pe.jsx)("div",{children:Object(Pe.jsx)(T.a,{container:!0,justifyContent:"center",children:Object(Pe.jsxs)(T.a,{item:!0,xs:10,children:[Object(Pe.jsx)("form",{children:Object(Pe.jsx)(E.a,{children:Object(Pe.jsx)(w.a,{children:Object(Pe.jsxs)("div",{className:t.wrapperInput,children:[Object(Pe.jsx)(_.a,{className:t.input,label:"\u0418\u043c\u044f \u0444\u0430\u0439\u043b\u0430",name:"fileName",type:"search",onChange:s,defaultValue:r.fileName?r.fileName:""}),Object(Pe.jsx)(_.a,{className:t.input,label:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",name:"comment",type:"search",onChange:s,defaultValue:r.comment?r.comment:""})]})})})}),Object(Pe.jsx)("div",{children:Object(Pe.jsx)(A.a,{className:t.editButton,variant:"contained",onClick:function(){if(!c.id){var e=o.map((function(e){return e.id===r.id?r:e}));return n(!1),i(e)}a(r,c.id),n(!1)},color:"primary",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"})})]})})})},bt=function(e){var t=ot(),a=e.contact,n=e.newAttachments,r=e.setNewAttachments,c=[{field:"fileName",headerName:"\u0418\u043c\u044f \u0444\u0430\u0439\u043b\u0430",width:200,filterable:!1,sortable:!1,renderCell:function(e){return Object(Pe.jsx)("a",{href:e.row.filePath,download:!0,target:"_blank",rel:"noopener noreferrer",children:e.value})}},{field:"uploadDate",headerName:"\u0414\u0430\u0442\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438",width:160,filterable:!1,sortable:!1},{field:"comment",headerName:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",width:160,filterable:!1,sortable:!1,flex:1},{field:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",headerName:"",width:155,filterable:!1,sortable:!1,editable:!0,headerAlign:"center",renderCell:function(e){return Object(Pe.jsx)(S.a,{id:String(e.id),"aria-label":"edit",onClick:w,children:Object(Pe.jsx)(Ge.a,{})})}},{field:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",headerName:"",width:110,filterable:!1,sortable:!1,headerAlign:"center",renderCell:function(e){return Object(Pe.jsx)(S.a,{id:String(e.id),"aria-label":"del",onClick:_,children:Object(Pe.jsx)(Fe.a,{})})}}],i=Te().deleteAttachment,o=Object(m.useState)(!1),s=Object(y.a)(o,2),l=s[0],u=s[1],d=Object(m.useState)([]),p=Object(y.a)(d,2),j=p[0],b=p[1],h=Object(m.useState)(""),f=Object(y.a)(h,2),O=f[0],x=f[1],g=Object(m.useState)(Object(Pe.jsx)("div",{})),C=Object(y.a)(g,2),v=C[0],N=C[1],T=Object(m.useState)(Object(Pe.jsx)("div",{})),E=Object(y.a)(T,1)[0],w=function(e){x("\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u0439"),u(!0);var t=e.currentTarget.id;if(a.id){var c=a.attachments.find((function(e){return e.id===t}));N(Object(Pe.jsx)(jt,{setOpen:u,contact:a,attachment:c}))}else{var i=n.find((function(e){return e.id===t}));N(Object(Pe.jsx)(jt,{setOpen:u,contact:a,attachment:i,setNewAttachments:r,newAttachments:n}))}},_=function(e){var t=e.currentTarget.id;a.id?i(a.id,t):r(null===n||void 0===n?void 0:n.filter((function(e){return e.id!==t})))};return Object(Pe.jsxs)("div",{style:{width:"100%",marginBottom:10,marginTop:15},children:[Object(Pe.jsx)("h2",{className:t.formTitle,children:"\u0412\u043b\u043e\u0436\u0435\u043d\u0438\u044f"}),Object(Pe.jsx)(A.a,{className:t.button,variant:"outlined",color:"primary",onClick:function(){x("\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u044f"),N(Object(Pe.jsx)(pt,{setOpen:u,contact:a,newAttachments:n,setNewAttachments:r})),u(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u0435"}),Object(Pe.jsx)(Be.a,{className:t.phoneTable,rows:a.attachments||n,columns:c,autoHeight:!0,disableSelectionOnClick:!0,hideFooter:!0,onSelectionModelChange:function(e){b(e)},selectionModel:j}),Object(Pe.jsx)(Ke,{open:l,onClose:function(){u(!1)},title:O,body:v,buttons:E})]})},mt=L.e,ht=a(170),ft=a.n(ht),Ot=a(265),xt=a(63),gt=a.n(xt),Ct=a(49),vt=a(229),yt=a(269),Nt=function(e){var t=mt((function(e){return e.contacts.data})),a=e.auth,n=e.loginClickHandler,r=e.exitClickHandler,c=Object(g.g)();return Object(Pe.jsx)(yt.a,{position:"relative",children:Object(Pe.jsxs)(Ot.a,{className:gt.a.nav,children:[Object(Pe.jsx)(vt.a,{className:gt.a.navTitle,variant:"h6",onClick:function(e){t?c.push("/contacts"):n(e)},children:"Contact Book"}),Object(Pe.jsx)(A.a,{color:"inherit",onClick:n||r,children:"Login"===a?a:Object(Pe.jsx)(Ct.b,{className:gt.a.link,to:"/",children:a})})]})})},St=a(87),Tt=a.n(St),Et=a(270),wt=function(){var e,t,a,n,r,c,i,o,s,l,u,d,p=Object(g.g)(),j=we(),b=Te(),f=b.updateContact,O=b.getContacts,x=b.logOut,L=mt((function(e){return e.contacts.data})),k=Object(g.h)().pathname.split("/").reverse()[0],D=null===L||void 0===L?void 0:L.find((function(e){return e.id===k})),U=Object(m.useState)(D),I=Object(y.a)(U,2),P=I[0],R=I[1],B=h.a.useState(new Date(Z(P.birthDate,"DD.MM.yyyy"))),M=Object(y.a)(B,2),G=M[0],F=M[1];if(Object(m.useEffect)((function(){var e=null===L||void 0===L?void 0:L.find((function(e){return e.id===k}));R(e),L||O()}),[L]),!L||!P)return Object(Pe.jsx)(N.a,{className:ft.a.preloader,size:60,color:"secondary"});var W=function(e){var t=e.target,a="birthDate"===t.name,n=e.target.value.replace(/-/g," ").split(" ").reverse().join(".");if(P){var r=Object(v.a)(Object(v.a)({},P),{},Object(C.a)({},t.name,a?n:t.value));R(r)}},V=function(e){var t=e.target,a=Object(v.a)(Object(v.a)({},P),{},{address:Object(v.a)(Object(v.a)({},P.address),{},Object(C.a)({id:P.address.id},t.name,t.value))});R(a)},J=JSON.parse(JSON.stringify(P)),H=J.attachments.map((function(e){return e.base64File?{comment:e.comment,filePath:e.base64File,uploadDate:e.uploadDate,fileName:e.fileName,ext:e.ext}:e})),z=J.phones.map((function(e){return e.id.includes("phone")?{comment:e.comment,countryCode:e.countryCode,operatorID:e.operatorID,phoneNumber:e.phoneNumber,phoneType:e.phoneType}:e})),K=Z(G,"DD.MM.yyyy"),$=Object(v.a)(Object(v.a)({},J),{},{phones:z,attachments:H,birthDate:K});return Object(Pe.jsxs)("div",{className:j.editBG,children:[Object(Pe.jsx)(Nt,{auth:"\u0412\u044b\u0439\u0442\u0438",exitClickHandler:function(){x()}}),Object(Pe.jsx)("div",{className:j.container,children:Object(Pe.jsxs)("div",{className:j.editForm,children:[Object(Pe.jsx)(S.a,{className:j.prevButton,onClick:function(){return p.push(Xt.HOME)},"aria-label":"close",children:Object(Pe.jsx)(Tt.a,{})}),Object(Pe.jsx)("div",{className:j.avatar,children:Object(Pe.jsx)(Re,{contact:P})}),Object(Pe.jsxs)("div",{children:[Object(Pe.jsx)("h2",{className:j.title,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0430 "}),Object(Pe.jsx)(T.a,{container:!0,justifyContent:"center",children:Object(Pe.jsx)(T.a,{item:!0,xs:10,children:Object(Pe.jsx)("form",{onSubmit:function(e){e.preventDefault(),f({contact:$}),sessionStorage.clear()},children:Object(Pe.jsx)(E.a,{children:Object(Pe.jsxs)(w.a,{children:[Object(Pe.jsxs)("div",{className:j.wrapperInput,children:[Object(Pe.jsxs)("div",{className:j.contactInfo,children:[Object(Pe.jsx)(_.a,{className:j.input,label:"\u0418\u043c\u044f",name:"name",type:"search",onChange:W,defaultValue:P.name?P.name:""}),Object(Pe.jsx)(_.a,{className:j.input,label:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",name:"surname",type:"search",onChange:W,defaultValue:P.surname?P.surname:""}),Object(Pe.jsx)(_.a,{className:j.input,label:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",name:"patronymic",type:"search",onChange:W,defaultValue:P.patronymic?P.patronymic:""}),Object(Pe.jsx)(Et.a,{className:j.date,margin:"normal",id:"date-picker-dialog",format:"dd.MM.yyyy",label:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",value:G,onChange:function(e){F(e)},KeyboardButtonProps:{"aria-label":"change date"},error:!1}),Object(Pe.jsx)(_.a,{className:j.input,label:"\u041f\u043e\u043b",name:"gender",type:"search",onChange:W,defaultValue:P.gender?P.gender:""}),Object(Pe.jsx)(_.a,{className:j.input,label:"\u0421\u0435\u043c\u0435\u0439\u043d\u043e\u0435 \u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435",name:"maritalStatus",type:"search",onChange:W,defaultValue:P.maritalStatus?P.maritalStatus:""}),Object(Pe.jsx)(_.a,{className:j.input,label:"\u0413\u0440\u0430\u0436\u0434\u0430\u043d\u0441\u0442\u0432\u043e",name:"nationality",type:"search",onChange:W,defaultValue:P.nationality?P.nationality:""}),Object(Pe.jsx)(_.a,{className:j.input,label:"Email",name:"email",type:"search",onChange:W,defaultValue:P.email?P.email:""}),Object(Pe.jsx)(_.a,{className:j.input,label:"\u041c\u0435\u0441\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u044b",name:"currentJob",type:"search",onChange:W,defaultValue:P.currentJob?P.currentJob:""})]}),Object(Pe.jsxs)("div",{children:[Object(Pe.jsx)("h3",{className:j.title,children:"\u0410\u0434\u0440\u0435\u0441"}),Object(Pe.jsx)("br",{}),Object(Pe.jsxs)("div",{className:j.contactInfo,children:[Object(Pe.jsx)(_.a,{className:j.input,label:"\u0421\u0442\u0440\u0430\u043d\u0430",name:"country",type:"search",onChange:V,defaultValue:(null===(e=P.address)||void 0===e?void 0:e.country)?null===(t=P.address)||void 0===t?void 0:t.country:""}),Object(Pe.jsx)(_.a,{className:j.input,label:"\u0413\u043e\u0440\u043e\u0434",name:"city",type:"search",onChange:V,defaultValue:(null===(a=P.address)||void 0===a?void 0:a.city)?null===(n=P.address)||void 0===n?void 0:n.city:""}),Object(Pe.jsx)(_.a,{className:j.input,label:"\u0423\u043b\u0438\u0446\u0430",name:"street",type:"search",onChange:V,defaultValue:(null===(r=P.address)||void 0===r?void 0:r.street)?null===(c=P.address)||void 0===c?void 0:c.street:""}),Object(Pe.jsx)(_.a,{className:j.input,label:"\u041d\u043e\u043c\u0435\u0440 \u0434\u043e\u043c\u0430",name:"building",type:"number",onChange:V,defaultValue:(null===(i=P.address)||void 0===i?void 0:i.building)?null===(o=P.address)||void 0===o?void 0:o.building:""}),Object(Pe.jsx)(_.a,{className:j.input,label:"\u041d\u043e\u043c\u0435\u0440 \u043a\u0432\u0430\u0440\u0442\u0438\u0440\u044b",name:"flat",type:"number",onChange:V,defaultValue:(null===(s=P.address)||void 0===s?void 0:s.flat)?null===(l=P.address)||void 0===l?void 0:l.flat:""}),Object(Pe.jsx)(_.a,{className:j.input,label:"\u0418\u043d\u0434\u0435\u043a\u0441",name:"zipCode",type:"number",onChange:V,defaultValue:(null===(u=P.address)||void 0===u?void 0:u.zipCode)?null===(d=P.address)||void 0===d?void 0:d.zipCode:""})]})]})]}),Object(Pe.jsx)(st,{contact:P}),Object(Pe.jsx)(bt,{contact:P}),Object(Pe.jsx)("div",{className:j.submitButton,children:Object(Pe.jsx)(A.a,{className:j.editButton,type:"submit",variant:"contained",color:"primary",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"})})]})})})})})]})]})})]})},_t=a(146),At=a(123),Lt=a(64),kt=Object(Ee.a)({error:{fontSize:14,height:16,color:"red",position:"relative",top:-8,left:10},avatar:{width:300,paddingLeft:20,paddingTop:65},addPageBG:{backgroundColor:"whitesmoke",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"repeat-y"},container:{maxWidth:1200,margin:"0 auto",display:"flex"},addPageWrapper:{height:"100%",width:"100%",marginBottom:30},form:{width:"100%",padding:15,boxShadow:"rgba(149, 157, 165, 0.2) 0px 8px 24px"},row:{display:"flex",flexDirection:"column",justifyContent:"center"},title:{padding:20,fontSize:28,textAlign:"center",color:"#3451b9",fontFamily:"Sans-Serif"},input:{margin:"0 10px 10px",width:200},gender:{width:200,margin:"0 10px 10px"},dateWrapper:{display:"flex",justifyContent:"space-between",flexDirection:"column"},date:{margin:"0 10px 10px 10px",width:195},period:{display:"flex",justifyContent:"center",flexWrap:"wrap"},addressWrapper:{display:"flex",justifyContent:"center",flexWrap:"wrap"},buttonWrapper:{display:"flex",justifyContent:"flex-end",marginTop:20},prevButton:{width:50,height:50,position:"relative",top:20,left:10,border:"1px solid black"},editButton:{padding:10,margin:20},submitButton:{position:"relative",display:"flex",justifyContent:"center",margin:80}}),Dt=function(){var e=kt(),t=Object(g.g)(),a=Object(m.useState)({name:"",surname:"",patronymic:""}),n=Object(y.a)(a,2),r=n[0],c=n[1],i=Te(),o=i.addContact,s=i.logOut,l=Object(m.useState)({}),u=Object(y.a)(l,2),d=u[0],p=u[1],j=Object(m.useState)({}),b=Object(y.a)(j,2),f=b[0],O=b[1],x=Object(m.useState)(""),N=Object(y.a)(x,2),L=N[0],k=N[1],D=Object(m.useState)({}),U=Object(y.a)(D,2),I=U[0],P=U[1],R=Object(m.useState)([]),B=Object(y.a)(R,2),M=B[0],G=B[1],F=Object(m.useState)([]),W=Object(y.a)(F,2),V=W[0],J=W[1],H=h.a.useState(new Date("")),z=Object(y.a)(H,2),K=z[0],$=z[1],X=function(e){var t=e.target,a="birthDate"===t.name,n=e.target.value.replace(/-/g," ").split(" ").reverse().join(".");p(Object(v.a)(Object(v.a)({},d),{},Object(C.a)({},t.name,a?n:t.value)))},Q=function(e){var t=e.target;O(Object(v.a)(Object(v.a)({},f),{},Object(C.a)({},t.name,t.value)))},q=Z(K,"DD.MM.yyyy"),Y=function(e){var t=e.target,a=/^[\u0430-\u044f\u0410-\u042f\u0431,0-9]{3,10}$/;return"name"===t.name&&(a.test(t.value)?a.test(t.value)&&c(Object(v.a)(Object(v.a)({},r),{},{name:""})):c(Object(v.a)(Object(v.a)({},r),{},{name:"\u041f\u043e\u043b\u0435 \u0437\u0430\u043f\u043e\u043d\u0435\u043d\u043e \u043d\u0435\u0432\u0435\u0440\u043d\u043e"}))),"surname"===t.name&&(a.test(t.value)?a.test(t.value)&&c(Object(v.a)(Object(v.a)({},r),{},{surname:""})):c(Object(v.a)(Object(v.a)({},r),{},{surname:"\u041f\u043e\u043b\u0435 \u0437\u0430\u043f\u043e\u043d\u0435\u043d\u043e \u043d\u0435\u0432\u0435\u0440\u043d\u043e"}))),"patronymic"===t.name&&(a.test(t.value)?a.test(t.value)&&c(Object(v.a)(Object(v.a)({},r),{},{patronymic:""})):c(Object(v.a)(Object(v.a)({},r),{},{patronymic:"\u041f\u043e\u043b\u0435 \u0437\u0430\u043f\u043e\u043d\u0435\u043d\u043e \u043d\u0435\u0432\u0435\u0440\u043d\u043e"}))),r};return Object(Pe.jsxs)("div",{className:e.addPageBG,children:[Object(Pe.jsx)(Nt,{auth:"\u0412\u044b\u0439\u0442\u0438",exitClickHandler:function(){s()}}),Object(Pe.jsxs)("div",{className:e.container,children:[Object(Pe.jsx)(S.a,{className:e.prevButton,onClick:function(){return t.push(Xt.HOME)},"aria-label":"close",children:Object(Pe.jsx)(Tt.a,{})}),Object(Pe.jsx)("div",{className:e.avatar,children:Object(Pe.jsx)(Re,{setLogo:P,contact:d})}),Object(Pe.jsxs)("div",{className:e.addPageWrapper,children:[Object(Pe.jsx)("h2",{className:e.title,children:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0430"}),Object(Pe.jsx)(T.a,{container:!0,justifyContent:"center",children:Object(Pe.jsx)(T.a,{item:!0,xs:10,children:Object(Pe.jsx)("form",{onSubmit:function(){var e={contact:Object(v.a)(Object(v.a)({},d),{},{address:f,birthDate:q,gender:L,logo:I,phones:M,attachments:V})};o(e),t.push(Xt.HOME)},children:Object(Pe.jsx)(E.a,{className:e.form,children:Object(Pe.jsxs)(w.a,{className:e.row,children:[Object(Pe.jsxs)("div",{children:[Object(Pe.jsxs)("div",{className:e.period,children:[Object(Pe.jsxs)("div",{children:[Object(Pe.jsx)(_.a,{className:e.input,title:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0440\u0443\u0441\u0441\u043a\u0438\u0439 \u044f\u0437\u044b\u043a \u0438 \u0446\u0438\u0444\u0440\u044b",label:"\u0418\u043c\u044f",name:"name",type:"search",onBlur:Y,onChange:X}),r.name?Object(Pe.jsx)("div",{className:e.error,children:r.name}):null]}),Object(Pe.jsxs)("div",{children:[Object(Pe.jsx)(_.a,{className:e.input,title:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0440\u0443\u0441\u0441\u043a\u0438\u0439 \u044f\u0437\u044b\u043a \u0438 \u0446\u0438\u0444\u0440\u044b",label:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",name:"surname",type:"search",onBlur:Y,onChange:X}),r.surname?Object(Pe.jsx)("div",{className:e.error,children:r.surname}):null]}),Object(Pe.jsxs)("div",{children:[Object(Pe.jsx)(_.a,{className:e.input,title:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0440\u0443\u0441\u0441\u043a\u0438\u0439 \u044f\u0437\u044b\u043a \u0438 \u0446\u0438\u0444\u0440\u044b",label:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",name:"patronymic",type:"search",onBlur:Y,onChange:X}),r.patronymic?Object(Pe.jsx)("div",{className:e.error,children:r.patronymic}):null]}),Object(Pe.jsxs)(E.a,{className:e.gender,children:[Object(Pe.jsx)(_t.a,{id:"demo-simple-select-label",children:"\u041f\u043e\u043b"}),Object(Pe.jsxs)(At.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:L,onChange:function(e){k(e.target.value)},children:[Object(Pe.jsx)(Lt.a,{value:""}),Object(Pe.jsx)(Lt.a,{value:"\u043c\u0443\u0436\u0441\u043a\u043e\u0439",children:"\u041c\u0443\u0436\u0441\u043a\u043e\u0439"}),Object(Pe.jsx)(Lt.a,{value:"\u0436\u0435\u043d\u0441\u043a\u0438\u0439",children:"\u0416\u0435\u043d\u0441\u043a\u0438\u0439"})]})]}),Object(Pe.jsx)(_.a,{className:e.input,label:"\u0421\u0435\u043c\u0435\u0439\u043d\u043e\u0435 \u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435",name:"maritalStatus",type:"search",onChange:X}),Object(Pe.jsx)(_.a,{className:e.input,label:"\u0413\u0440\u0430\u0436\u0434\u0430\u043d\u0441\u0442\u0432\u043e",name:"nationality",type:"search",onChange:X})]}),Object(Pe.jsxs)("div",{className:e.dateWrapper,children:[Object(Pe.jsx)("div",{children:Object(Pe.jsx)("h3",{className:e.title,children:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442"})}),Object(Pe.jsx)("div",{className:e.period,children:Object(Pe.jsx)(Et.a,{margin:"normal",id:"date-picker-dialog",format:"dd.MM.yyyy",helperText:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",value:K,onChange:function(e){$(e)},KeyboardButtonProps:{"aria-label":"change date"},error:!1})})]}),Object(Pe.jsxs)("div",{children:[Object(Pe.jsx)("h3",{className:e.title,children:"\u0410\u0434\u0440\u0435\u0441"}),Object(Pe.jsxs)("div",{className:e.addressWrapper,children:[Object(Pe.jsx)("br",{}),Object(Pe.jsx)(_.a,{className:e.input,label:"\u0421\u0442\u0440\u0430\u043d\u0430",name:"country",type:"search",onChange:Q}),Object(Pe.jsx)(_.a,{className:e.input,label:"\u0413\u043e\u0440\u043e\u0434",name:"city",type:"search",onChange:Q}),Object(Pe.jsx)(_.a,{className:e.input,label:"\u0423\u043b\u0438\u0446\u0430",name:"street",type:"search",onChange:Q}),Object(Pe.jsx)(_.a,{className:e.input,label:"\u041d\u043e\u043c\u0435\u0440 \u0434\u043e\u043c\u0430",name:"building",type:"number",onChange:Q}),Object(Pe.jsx)(_.a,{className:e.input,label:"\u041d\u043e\u043c\u0435\u0440 \u043a\u0432\u0430\u0440\u0442\u0438\u0440\u044b",name:"flat",type:"number",onChange:Q}),Object(Pe.jsx)(_.a,{className:e.input,label:"\u0418\u043d\u0434\u0435\u043a\u0441",name:"zipCode",type:"number",onChange:Q})]})]})]}),Object(Pe.jsx)(st,{setNewPhones:G,newPhones:M,contact:d}),Object(Pe.jsx)(bt,{contact:d,newAttachments:V,setNewAttachments:J}),Object(Pe.jsx)("div",{className:e.buttonWrapper,children:Object(Pe.jsx)(A.a,{className:e.editButton,type:"submit",variant:"contained",color:"primary",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"})})]})})})})})]})]})]})},Ut=a(177),It=Object(Ee.a)((function(e){return Object(He.a)({buttonWrapper:{paddingTop:20,display:"flex",justifyContent:"space-around"},inputWrapper:{width:250,height:"auto",display:"flex",flexDirection:"column"},errorForm:{color:"red"}})})),Pt=function(e){var t=It(),a=Te().getLogin,n=mt((function(e){return e.login.isSuccess})),r=Object(Ut.a)({initialValues:{email:"",password:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 email \u0430\u0434\u0440\u0435\u0441"):t.email="Email \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d",e.password||(t.password="\u041f\u0430\u0440\u043e\u043b\u044c \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d"),t},onSubmit:function(e){a(e.email,e.password),r.resetForm()}});return n?Object(Pe.jsx)(g.a,{to:"/contacts"}):Object(Pe.jsx)("div",{children:Object(Pe.jsx)(T.a,{container:!0,justifyContent:"center",children:Object(Pe.jsx)(T.a,{item:!0,xs:12,children:Object(Pe.jsx)("form",{onSubmit:r.handleSubmit,children:Object(Pe.jsx)(E.a,{children:Object(Pe.jsxs)(w.a,{children:[Object(Pe.jsxs)("div",{className:t.inputWrapper,children:[Object(Pe.jsx)(_.a,Object(v.a)({type:"search",label:"Email",margin:"normal"},r.getFieldProps("email"))),r.errors.email?Object(Pe.jsx)("div",{className:t.errorForm,children:r.errors.email}):null,Object(Pe.jsx)(_.a,Object(v.a)({type:"password",label:"Password",margin:"normal"},r.getFieldProps("password")))]}),r.errors.password?Object(Pe.jsx)("div",{className:t.errorForm,children:r.errors.password}):null,Object(Pe.jsxs)("div",{className:t.buttonWrapper,children:[Object(Pe.jsx)(A.a,{type:"submit",variant:"contained",color:"primary",children:"Login"}),Object(Pe.jsx)(A.a,{variant:"contained",color:"primary",onClick:e.openLoginFormClickHandler,children:"Cancel"})]})]})})})})})})},Rt=function(){var e=h.a.useState(!1),t=Object(y.a)(e,2),a=t[0],n=t[1];return Object(Pe.jsxs)("div",{className:gt.a.wrapper,children:[Object(Pe.jsx)("div",{className:gt.a.root,children:Object(Pe.jsx)(Nt,{loginClickHandler:function(e){e.currentTarget&&n(!0)},auth:"Login"})}),Object(Pe.jsx)("div",{children:Object(Pe.jsx)("h1",{className:gt.a.title,children:"\u041a\u043d\u0438\u0433\u0430 \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043e\u0432"})}),Object(Pe.jsx)("div",{className:gt.a.footer,children:Object(Pe.jsx)("span",{className:gt.a.footerTitle,children:"by Egor Dupanov (Bostil Support)"})}),a?Object(Pe.jsx)(Pt,{openLoginFormClickHandler:function(){n(!1)}}):null]})},Bt=a(167),Mt=Object(Ee.a)((function(e){return Object(He.a)({emailWrapper:{height:"100%",background:"whitesmoke"},formControl:{margin:5,position:"relative",minWidth:120,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"50%"},container:{maxWidth:1200,margin:"10% auto",background:"#ffffff"},emailFormWrapper:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",boxShadow:"rgba(149, 157, 165, 0.2) 0px 8px 24px"},inputStyle:{margin:5,width:"50%"},titleTemplate:{position:"absolute",left:15,transition:" color 200ms cubic-bezier(0.0, 0, 0.2, 1) 0ms,transform 200ms cubic-bezier(0.0, 0, 0.2, 1) 0ms","&:focus":{}},templateText:{marginRight:"24px !important"},select:{marginTop:"0 !important",paddingLeft:14,border:"1px solid black",borderRadius:"4px",borderColor:"#c4c4c4",width:"100%",height:60,"&:hover":{borderColor:"black",borderBottom:"none"},"&::before":{borderBottom:"none"},"&::after":{borderBottom:"none"}},emailButton:{marginTop:10,marginBottom:20}})})),Gt={template1:"\n       \u041f\u0443\u0441\u0442\u044c \u0445\u043e\u0440\u043e\u0448\u0435\u0435 \u0441\u043b\u0443\u0447\u0430\u0435\u0442\u0441\u044f,\n       \u041f\u0443\u0441\u0442\u044c \u043f\u0440\u0438\u0445\u043e\u0434\u044f\u0442 \u0447\u0443\u0434\u0435\u0441\u0430,\n       \u0418 \u043c\u0435\u0447\u0442\u044b \u0432\u0441\u0435 \u0438\u0441\u043f\u043e\u043b\u043d\u044f\u044e\u0442\u0441\u044f.\n       \u0421 \u041d\u043e\u0432\u044b\u043c \u0433\u043e\u0434\u043e\u043c \u0432\u0441\u0435\u0445! \u0423\u0440\u0430!",template2:"\u0422\u0435\u0431\u0435 \u0436\u0435\u043b\u0430\u044e \u043c\u043e\u0440\u0435 \u0441\u0447\u0430\u0441\u0442\u044c\u044f,\n\u0423\u043b\u044b\u0431\u043e\u043a, \u0441\u043e\u043b\u043d\u0446\u0430 \u0438 \u0442\u0435\u043f\u043b\u0430.\n\u0427\u0442\u043e\u0431 \u0436\u0438\u0437\u043d\u044c \u0431\u044b\u043b\u0430 \u0435\u0449\u0435 \u043f\u0440\u0435\u043a\u0440\u0430\u0441\u043d\u0435\u0439,\n\u0423\u0434\u0430\u0447\u0430 \u0437\u0430 \u0440\u0443\u043a\u0443 \u0432\u0435\u043b\u0430!\n\n\u041f\u0443\u0441\u0442\u044c \u0432 \u0434\u043e\u043c\u0435 \u0431\u0443\u0434\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0440\u0430\u0434\u043e\u0441\u0442\u044c,\n\u0423\u044e\u0442, \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u043a \u0438 \u043f\u043e\u043a\u043e\u0439.\n\u0414\u0440\u0443\u0437\u044c\u044f, \u0440\u043e\u0434\u043d\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u0440\u044f\u0434\u043e\u043c,\n\u0411\u0435\u0434\u0430 \u043e\u0431\u0445\u043e\u0434\u0438\u0442 \u0441\u0442\u043e\u0440\u043e\u043d\u043e\u0439!\n\n\u0417\u0434\u043e\u0440\u043e\u0432\u044c\u044f \u043a\u0440\u0435\u043f\u043a\u043e\u0433\u043e \u0436\u0435\u043b\u0430\u044e\n\u0418 \u043b\u0435\u0433\u043a\u0438\u0445 \u0436\u0438\u0437\u043d\u0435\u043d\u043d\u044b\u0445 \u0434\u043e\u0440\u043e\u0433.\n\u0418 \u043f\u0443\u0441\u0442\u044c \u0432\u0441\u0435\u0433\u0434\u0430, \u0431\u043b\u0430\u0433\u043e\u0441\u043b\u043e\u0432\u043b\u044f\u044f,\n\u0422\u0435\u0431\u044f \u0445\u0440\u0430\u043d\u0438\u0442 \u0442\u0432\u043e\u0439 \u0430\u043d\u0433\u0435\u043b\u043e\u043a!",template3:"\u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u044e \u0441 \u0434\u043d\u0435\u043c \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f! \u041f\u0443\u0441\u0442\u044c \u0436\u0438\u0437\u043d\u044c \u0434\u0430\u0440\u0438\u0442 \u0442\u0435\u0431\u0435 \u043f\u043e\u0431\u043e\u043b\u044c\u0448\u0435 \u044f\u0440\u043a\u0438\u0445 \u043c\u043e\u043c\u0435\u043d\u0442\u043e\u0432 \u0438 \u0441\u0431\u0443\u0434\u0443\u0442\u0441\u044f \u0432\u0441\u0435 \u0442\u0432\u043e\u0438 \u0441\u0430\u043c\u044b\u0435 \u0441\u043c\u0435\u043b\u044b\u0435 \u0438 \u0437\u0430\u0432\u0435\u0442\u043d\u044b\u0435 \u0436\u0435\u043b\u0430\u043d\u0438\u044f! \u0416\u0435\u043b\u0430\u044e, \u0447\u0442\u043e\u0431\u044b \u0432 \u0442\u0432\u043e\u0435\u043c \u0434\u043e\u043c\u0435 \u0432\u0441\u0435\u0433\u0434\u0430 \u0446\u0430\u0440\u0438\u043b\u0438 \u0441\u0447\u0430\u0441\u0442\u044c\u0435 \u0438 \u043f\u043e\u043d\u0438\u043c\u0430\u043d\u0438\u0435. \u0418 \u043f\u0443\u0441\u0442\u044c \u0442\u0435\u0431\u044f \u043e\u043a\u0440\u0443\u0436\u0430\u044e\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0441\u043a\u0440\u0435\u043d\u043d\u0438\u0435, \u0432\u0435\u0440\u043d\u044b\u0435, \u043d\u0430\u0434\u0435\u0436\u043d\u044b\u0435 \u0434\u0440\u0443\u0437\u044c\u044f \u0438 \u0434\u043e\u0431\u0440\u044b\u0435 \u043b\u044e\u0434\u0438!\n"},Ft=function(){var e=Object(g.g)(),t=Mt(),a=Te(),n=a.sendMail,r=a.logOut,c=Object(m.useState)({}),i=Object(y.a)(c,2),o=i[0],s=i[1],l=JSON.parse(sessionStorage.getItem("contactsId")||"[]"),u=JSON.parse(sessionStorage.getItem("contacts")||"[]"),d=h.a.useState({name:""}),p=Object(y.a)(d,2),j=p[0],b=p[1],f=function(e,t){var a=[];return e.forEach((function(e){t.forEach((function(t){e.id===t&&a.push(e)}))})),a}(u,l),O=f.map((function(e){return"".concat(e.name," ").concat(e.surname)})).join(", "),x=f.map((function(e){return"".concat(e.email)})),N=function(e){var t=e.target;o&&(o=Object(v.a)(Object(v.a)({},o),{},Object(C.a)({},t.name,t.value))),b(Object(v.a)(Object(v.a)({},j),{},{name:t.value})),s(o)};return Object(Pe.jsxs)("div",{className:t.emailWrapper,children:[Object(Pe.jsx)(Nt,{auth:"\u0412\u044b\u0439\u0442\u0438",exitClickHandler:function(){r()}}),Object(Pe.jsxs)("div",{className:t.container,children:[Object(Pe.jsx)(S.a,{onClick:function(){return e.push(Xt.HOME)},"aria-label":"close",children:Object(Pe.jsx)(Tt.a,{})}),Object(Pe.jsxs)("form",{noValidate:!0,autoComplete:"off",className:t.emailFormWrapper,children:[Object(Pe.jsx)(_.a,{className:t.inputStyle,id:"outlined-textarea",label:"\u041a\u043e\u043c\u0443",multiline:!0,variant:"outlined",defaultValue:O,InputProps:{readOnly:!0}}),Object(Pe.jsx)(_.a,{className:t.inputStyle,required:!0,id:"outlined-required",label:"\u0422\u0435\u043c\u0430",name:"theme",variant:"outlined",onChange:N}),Object(Pe.jsxs)(E.a,{className:t.formControl,children:[Object(Pe.jsx)(_t.a,{htmlFor:"name-native-error",className:t.titleTemplate,children:"\u0428\u0430\u0431\u043b\u043e\u043d"}),Object(Pe.jsxs)(Bt.a,{className:t.select,value:j.name,onChange:function(e){var t=e.target.name;b(Object(v.a)(Object(v.a)({},j),{},Object(C.a)({},t,e.target.value))),s(Object(v.a)(Object(v.a)({},o),{},{text:e.target.value}))},name:"name",inputProps:{id:"name-native-error"},children:[Object(Pe.jsx)("option",{"aria-label":"None",value:""}),Object(Pe.jsx)("optgroup",{label:"\u0421 \u041d\u043e\u0432\u044b\u043c \u0413\u043e\u0434\u043e\u043c!",children:Object(Pe.jsx)("option",{value:Gt.template1,children:"\u0428\u0430\u0431\u043b\u043e\u043d1"})}),Object(Pe.jsxs)("optgroup",{label:"\u0421 \u0434\u043d\u0435\u043c \u0420\u043e\u0436\u0434\u0435\u043d\u0438\u044f!",children:[Object(Pe.jsx)("option",{value:Gt.template2,children:"\u0428\u0430\u0431\u043b\u043e\u043d2"}),Object(Pe.jsx)("option",{value:Gt.template3,children:"\u0428\u0430\u0431\u043b\u043e\u043d3"})]})]})]}),Object(Pe.jsx)(_.a,{className:t.inputStyle,autoFocus:!0,id:"outlined-textarea",label:""!==j.name?"":"\u0422\u0435\u043a\u0441\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",name:"text",multiline:!0,variant:"outlined",onChange:N,value:o.text}),Object(Pe.jsx)(A.a,{className:t.emailButton,variant:"outlined",color:"primary",onClick:function(){n(x,o.theme,o.text)},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c e-mail"})]})]})]})},Wt=a(173),Vt=a.n(Wt);function Jt(e){var t=Te(),a=t.deleteContacts,n=t.deleteAll,r=e.open,c=e.onClose,i=e.selectionModel,o=ze();return Object(Pe.jsx)("div",{children:Object(Pe.jsx)(We.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:o.modal,open:r,onClose:c,closeAfterTransition:!0,BackdropComponent:Ve.a,BackdropProps:{timeout:500},children:Object(Pe.jsx)(Je.a,{in:r,children:Object(Pe.jsxs)("div",{className:o.paper,children:[Object(Pe.jsx)("h2",{className:o.modalTitle,id:"transition-modal-title",children:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b?"}),Object(Pe.jsx)(A.a,{onClick:function(){i.length>=5&&(n(),c()),i.length<5&&(a(i),c())},variant:"contained",color:"secondary",children:Object(Pe.jsx)(vt.a,{variant:"button",style:{fontSize:"0.79rem"},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})]})})})})}var Ht=Object(Ee.a)({avatar:{width:300},close:{textDecoration:"none",position:"fixed",top:160,right:50,border:"1px solid black"},errorTitle:{fontSize:"1.5em",textAlign:"center",color:"red",margin:"0 auto",padding:"20px 0"},searchPanel:{marginBottom:30},editForm:{display:"flex"},searchWrapper:{maxWidth:"100%",flexBasis:"100%"},form:{maxWidth:1200,width:"100%",boxShadow:"rgba(149, 157, 165, 0.2) 0px 8px 24px"},searchTable:{maxWidth:1e3,margin:"0 auto"},row:{display:"flex",flexDirection:"column",justifyContent:"center"},title:{padding:20,fontSize:28,textAlign:"center",color:"#3451b9",fontFamily:"Sans-Serif"},delInfoInput:{position:"relative",left:0,fontFamily:"Sans-Serif",fontSize:12,fontWeight:"bold",cursor:"pointer"},wrapperInput:{padding:"10px 0",display:"flex",flexDirection:"column",justifyContent:"center"},input:{margin:"0 10px 10px"},contactInfo:{display:"flex",flexWrap:"wrap",justifyContent:"space-around"},dateWrapper:{display:"flex",justifyContent:"space-between",flexDirection:"column"},date:{margin:"0 10px 10px 10px",width:195},period:{display:"flex",justifyContent:"center",flexWrap:"wrap"},addressWrapper:{display:"flex",justifyContent:"center",flexWrap:"wrap"},buttonWrapper:{display:"flex",justifyContent:"space-around",marginTop:20,marginBottom:20},button:{padding:0},prevButton:{textDecoration:"none"},editButton:{padding:10,margin:20},submitButton:{position:"relative",display:"flex",justifyContent:"center",margin:80},wrapperButtonEditPage:{display:"flex",justifyContent:"center"},buttonEditForm:{margin:20}}),zt=function(e){var t=Ht(),a=Te(),n=a.getContacts,r=a.setSearchParams,c=a.setPage,i=JSON.parse(sessionStorage.getItem("search")||"{}"),o=Object(m.useState)(i||{}),s=Object(y.a)(o,2),l=s[0],u=s[1],d=Object(m.useState)(null),p=Object(y.a)(d,2),j=p[0],b=p[1],h=Object(m.useState)(null),f=Object(y.a)(h,2),O=f[0],x=f[1],g=function(e){var t,a=e.target,n="dateFrom"===a.name||"dateTo"===a.name;n&&10===a.value.length&&(t=Z(a.value,"DD.MM.yyyy")),u(Object(v.a)(Object(v.a)({},l),{},Object(C.a)({},a.name,n?t:a.value)))};return Object(m.useEffect)((function(){l.dateFrom&&b(new Date(l.dateFrom)),l.dateTo&&x(new Date(l.dateTo))}),[l]),Object(Pe.jsx)("div",{className:t.searchPanel,children:Object(Pe.jsx)(T.a,{container:!0,justifyContent:"center",children:Object(Pe.jsx)(T.a,{item:!0,xs:10,className:t.searchWrapper,children:Object(Pe.jsx)("form",{onSubmit:function(e){e.preventDefault(),sessionStorage.setItem("search",JSON.stringify(l)),c(1),r(l),n()},children:Object(Pe.jsx)(E.a,{className:t.form,children:Object(Pe.jsxs)(w.a,{className:t.row,children:[Object(Pe.jsx)("h2",{className:t.title,children:"\u041f\u043e\u0438\u0441\u043a \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0430"}),Object(Pe.jsxs)("div",{className:t.searchTable,children:[Object(Pe.jsxs)("div",{className:t.period,children:[Object(Pe.jsx)(_.a,{className:t.input,label:"\u0418\u043c\u044f",name:"name",type:"search",onChange:g,defaultValue:i.name}),Object(Pe.jsx)(_.a,{className:t.input,label:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",name:"surname",type:"search",onChange:g,defaultValue:i.surname}),Object(Pe.jsx)(_.a,{className:t.input,label:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",name:"patronymic",type:"search",onChange:g,defaultValue:i.patronymic}),Object(Pe.jsx)(_.a,{className:t.input,label:"\u041f\u043e\u043b",name:"gender",type:"search",onChange:g,defaultValue:i.gender}),Object(Pe.jsx)(_.a,{className:t.input,label:"\u0421\u0435\u043c\u0435\u0439\u043d\u043e\u0435 \u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435",name:"maritalStatus",type:"search",onChange:g,defaultValue:i.maritalStatus}),Object(Pe.jsx)(_.a,{className:t.input,label:"\u0413\u0440\u0430\u0436\u0434\u0430\u043d\u0441\u0442\u0432\u043e",name:"nationality",type:"search",onChange:g,defaultValue:i.nationality}),Object(Pe.jsx)(_.a,{className:t.input,label:"Email",name:"email",type:"search",onChange:g,defaultValue:i.email}),Object(Pe.jsx)(_.a,{className:t.input,label:"\u041c\u0435\u0441\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u044b",name:"currentJob",type:"search",onChange:g,defaultValue:i.currentJob})]}),Object(Pe.jsxs)("div",{className:t.dateWrapper,children:[Object(Pe.jsx)("div",{children:Object(Pe.jsx)("h3",{className:t.title,children:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442"})}),Object(Pe.jsxs)("div",{className:t.period,children:[Object(Pe.jsx)(Et.a,{name:"dateFrom",helperText:"\u0421",className:t.date,margin:"normal",id:"date-picker-dialog",format:"dd.MM.yyyy",value:Z(j,"DD.MM.yyyy"),onChange:function(e){b(e);var t=Z(e,"DD.MM.yyyy");u(Object(v.a)(Object(v.a)({},l),{},{dateFrom:t}))},onInput:g,KeyboardButtonProps:{"aria-label":"change date"},error:!1}),Object(Pe.jsx)(Et.a,{name:"dateTo",helperText:"\u041f\u043e",className:t.date,margin:"normal",id:"date-picker-dialog",format:"dd.MM.yyyy",value:Z(O,"DD.MM.yyyy"),onChange:function(e){x(e);var t=Z(e,"DD.MM.yyyy");u(Object(v.a)(Object(v.a)({},l),{},{dateTo:t}))},onInput:g,KeyboardButtonProps:{"aria-label":"change date"},error:!1})]})]}),Object(Pe.jsx)("h3",{className:t.title,children:"\u0410\u0434\u0440\u0435\u0441"}),Object(Pe.jsxs)("div",{className:t.addressWrapper,children:[Object(Pe.jsx)(_.a,{className:t.input,label:"\u0421\u0442\u0440\u0430\u043d\u0430",name:"country",type:"search",onChange:g,defaultValue:i.country}),Object(Pe.jsx)(_.a,{className:t.input,label:"\u0413\u043e\u0440\u043e\u0434",name:"city",type:"search",onChange:g,defaultValue:i.city}),Object(Pe.jsx)(_.a,{className:t.input,label:"\u0423\u043b\u0438\u0446\u0430",name:"street",type:"search",onChange:g,defaultValue:i.street}),Object(Pe.jsx)(_.a,{className:t.input,label:"\u041d\u043e\u043c\u0435\u0440 \u0434\u043e\u043c\u0430",name:"building",type:"number",onChange:g,defaultValue:i.building}),Object(Pe.jsx)(_.a,{className:t.input,label:"\u041d\u043e\u043c\u0435\u0440 \u043a\u0432\u0430\u0440\u0442\u0438\u0440\u044b",name:"flat",type:"number",onChange:g,defaultValue:i.flat}),Object(Pe.jsx)(_.a,{className:t.input,label:"\u0418\u043d\u0434\u0435\u043a\u0441",name:"zipCode",type:"search",placeholder:"6-\u0442\u0438 \u0437\u043d\u0430\u0447\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440",inputProps:{pattern:"[0-9]{6}"},onChange:g,defaultValue:i.zipCode})]})]}),Object(Pe.jsxs)("div",{className:t.buttonWrapper,children:[Object(Pe.jsx)(A.a,{type:"submit",variant:"contained",color:"primary",onClick:function(){sessionStorage.clear(),u({})},children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"}),Object(Pe.jsx)(A.a,{type:"submit",variant:"contained",color:"primary",children:"\u041f\u043e\u0438\u0441\u043a"}),Object(Pe.jsx)(A.a,{type:"submit",variant:"contained",color:"primary",onClick:e.searchClickHandlerClose,children:"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c"})]})]})})})})})})},Kt=a.p+"static/media/contactListBG.9b7c4cb2.jpg",Zt=Object(Ue.a)({root:{minHeight:"100%",minWidth:"100%",backgroundImage:"url(".concat(Kt,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat","& .column":{backgroundColor:"#00000000"},"& .MuiDataGrid-cell":{textAlign:"center"}},container:{maxWidth:1200,margin:"0 auto",padding:15},headerWrapper:{padding:"5px 0"},contactsForm:{boxShadow:"rgba(149, 157, 165, 0.2) 0px 8px 24px"},preloader:{position:"absolute",top:"50%",left:"50%",marginRight:"-50%"},deleteButton:{margin:10},searchButton:{display:"inline-flex",margin:"10px 0 10px 10px !important",a:{textDecoration:"none",svg:{position:"relative",marginLeft:5,padding:"-5px",top:5}}},emailButtonText:{fontSize:"0.79rem"},link:{textDecoration:"none"}}),$t=function(){var e=[{field:"name",headerName:"\u0418\u043c\u044f",width:160,filterable:!1,sortable:!1,hide:!0},{field:"surname",headerName:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",width:160,filterable:!1,sortable:!1,hide:!0},{field:"patronymic",headerName:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",width:160,filterable:!1,sortable:!1,hide:!0},{field:"",headerName:"\u0424\u0418\u041e",width:250,filterable:!1,headerClassName:"column",headerAlign:"center",sortable:!1,renderCell:function(e){return Object(Pe.jsx)("span",{children:"".concat(e.row.name," ").concat(e.row.surname," ").concat(e.row.patronymic)})}},{field:"birthDate",headerName:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",width:170,filterable:!1,headerClassName:"column",sortable:!1,headerAlign:"center"},{field:"gender",headerName:"\u041f\u043e\u043b",width:80,filterable:!1,sortable:!1,hide:!0,headerAlign:"center"},{field:"maritalStatus",headerName:"\u0421\u0435\u043c\u0435\u0439\u043d\u043e\u0435 \u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435",width:200,filterable:!1,sortable:!1,hide:!0},{field:"nationality",headerName:"\u0413\u0440\u0430\u0436\u0434\u0430\u043d\u0441\u0442\u0432\u043e",width:140,filterable:!1,sortable:!1,hide:!0},{field:"address",headerName:"\u0410\u0434\u0440\u0435\u0441",headerAlign:"center",headerClassName:"column",flex:1,width:350,filterable:!1,sortable:!1,renderCell:function(e){return Object(Pe.jsx)("span",{children:e.row.address.fullAddress})}},{field:"email",headerName:"Email",width:140,filterable:!1,sortable:!1,hide:!0},{field:"currentJob",headerName:"\u041c\u0435\u0441\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u044b",width:160,filterable:!1,headerClassName:"column",sortable:!1,headerAlign:"center"},{field:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",headerName:"",width:155,filterable:!1,sortable:!1,editable:!0,headerClassName:"column",headerAlign:"center",renderCell:function(e){return Object(Pe.jsx)(S.a,{"aria-label":"edit",id:String(e.id),onClick:J,children:Object(Pe.jsx)(Ct.b,{to:"/contacts/edit",children:Object(Pe.jsx)(Ge.a,{})})})}},{field:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",headerName:"",width:110,filterable:!1,sortable:!1,headerAlign:"center",headerClassName:"column",renderCell:function(e){return Object(Pe.jsx)(S.a,{"aria-label":"del",id:String(e.id),onClick:function(){return G([String(e.id)])},children:Object(Pe.jsx)(Fe.a,{})})}}],t=Zt(),a=Object(m.useState)([]),n=Object(y.a)(a,2),r=n[0],c=n[1],i=Object(m.useState)([]),o=Object(y.a)(i,2),s=o[0],l=o[1],u=h.a.useState(!1),d=Object(y.a)(u,2),p=d[0],j=d[1],b=h.a.useState(!1),f=Object(y.a)(b,2),O=f[0],x=f[1],C=Te(),v=C.getContacts,E=C.setPage,w=C.setTake,_=C.logOut,L=mt((function(e){return e.contacts})),k=L.isLoading,D=L.data,U=L.maxUsers,I=L.page,P=L.take,R=mt((function(e){return e.delete})).isDeleteLoading,B=function(e){var t=Object(m.useRef)();return Object(m.useEffect)((function(){t.current=e})),t.current}(D),M=Object(g.g)();sessionStorage.setItem("contactsId",JSON.stringify(s)),sessionStorage.setItem("contacts",JSON.stringify(r));var G=function(e){l(e),j(!0)},F=function(){j(!1)},W=function(e){var t=Object(Xe.a)(e);t.map((function(e){return e.address.fullAddress="".concat(e.address.zipCode," ").concat(e.address.country,", \u0433. ").concat(e.address.city,", \u0443\u043b. ").concat(e.address.street," ").concat(e.address.building,"/").concat(e.address.flat)})),c(t)},V=function(e){E(e+1),w(P),v()},J=function(e){var t=e.currentTarget.id,a=Object(Xe.a)(D).find((function(e){return e.id===t}));M.push("".concat(Xt.EDIT,"/").concat(a.id),{contact:a})};return Object(m.useEffect)((function(){v(),D&&D.length>0&&W(D)}),[]),Object(m.useEffect)((function(){D&&D.length>0?D!==B&&W(D):c([])}),[D]),k||!D?Object(Pe.jsx)(N.a,{className:t.preloader,size:60,color:"secondary"}):Object(Pe.jsxs)("div",{className:t.root,children:[Object(Pe.jsx)(Nt,{auth:"\u0412\u044b\u0439\u0442\u0438",exitClickHandler:function(){_()}}),Object(Pe.jsxs)("div",{className:t.container,children:[Object(Pe.jsxs)(T.a,{className:t.headerWrapper,container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[" ",Object(Pe.jsx)(Ct.b,{className:t.link,to:"/contacts/create",children:Object(Pe.jsx)(A.a,{variant:"outlined",color:"primary",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u043a\u043e\u043d\u0442\u0430\u043a\u0442"})}),Object(Pe.jsxs)("div",{children:[Object(Pe.jsxs)(A.a,{onClick:function(){return G(s)},disabled:0===s.length,className:t.deleteButton,variant:"outlined",color:"secondary",children:["\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435",Object(Pe.jsx)(Fe.a,{})]}),Object(Pe.jsx)(Ct.b,{className:t.link,to:"/contacts/email",children:Object(Pe.jsx)(A.a,{disabled:0===s.length,variant:"contained",size:"large",color:"primary",target:"_top",rel:"noopener noreferrer",href:"",children:Object(Pe.jsx)(vt.a,{variant:"button",className:t.emailButtonText,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c E-mail"})})}),Object(Pe.jsx)(A.a,{onClick:function(e){e.currentTarget&&x(!0)},className:t.searchButton,variant:"outlined",color:"primary",children:Object(Pe.jsx)(Vt.a,{})})]})]}),O?Object(Pe.jsx)(zt,{searchClickHandlerClose:function(){x(!1)}}):null,Object(Pe.jsx)(Be.a,{className:t.contactsForm,rows:r,columns:e,pageSize:P,page:I-1||0,rowCount:U,autoHeight:!0,loading:R,paginationMode:"server",rowsPerPageOptions:[5,10,25],onPageChange:V,onPageSizeChange:V,sortingMode:"server",disableSelectionOnClick:!0,checkboxSelection:!0,localeText:"props"in Be.c?Be.c.props.MuiDataGrid.localeText:void 0,onSelectionModelChange:function(e){l(e)},selectionModel:s}),Object(Pe.jsx)(Jt,{open:p,onClose:F,selectionModel:s,deleteContact:function(e){var t=e.currentTarget.id;l([].concat([],[t])),F()}})]})]})},Xt={LOGIN:"/",HOME:"/contacts",CREATE:"/contacts/create",EDIT:"/contacts/edit",EMAIL:"/contacts/email"},Qt=function(){return Object(Pe.jsxs)(g.d,{children:[Object(Pe.jsx)(g.b,{exact:!0,path:Xt.LOGIN,component:Rt}),Object(Pe.jsx)(g.b,{exact:!0,path:Xt.HOME,component:$t}),Object(Pe.jsx)(g.b,{exact:!0,path:Xt.CREATE,component:Dt}),Object(Pe.jsx)(g.b,{exact:!0,path:Xt.EMAIL,component:Ft}),Object(Pe.jsx)(g.b,{exact:!0,path:"".concat(Xt.EDIT,"/:id"),component:wt})]})},qt=a(178),Yt=a(39),ea=a(272);var ta=function(e){var t=e.history,a=Te().getContactsBirthday,n=mt((function(e){return e.login.isSuccess})),r=mt((function(e){return e.login.data}));return Object(m.useEffect)((function(){n&&a(r[0].email)}),[n]),Object(Pe.jsx)(x.a,{history:t,children:Object(Pe.jsx)(Yt.a,{utils:qt.a,locale:ea.a,children:Object(Pe.jsx)("div",{className:"App",children:Object(Pe.jsx)(Qt,{})})})})},aa=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,278)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))},na=a(44),ra=a(175),ca=a(159),ia={isLoading:!1,data:null,maxUsers:0,page:1,take:5,errors:{}},oa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ia,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.GET_CONTACTS:return Object(v.a)(Object(v.a)({},e),{},{isLoading:!0});case j.GET_CONTACTS_SUCCESS:return Object(v.a)(Object(v.a)({},e),{},{isLoading:!1,data:t.payload.users,maxUsers:t.payload.maxUsers});case j.GET_CONTACTS_FAILURE:return Object(v.a)(Object(v.a)({},e),{},{errors:{}});case j.SET_CONTACTS_PAGE:return Object(v.a)(Object(v.a)({},e),{},{page:t.page});case j.SET_CONTACTS_TAKE:return Object(v.a)(Object(v.a)({},e),{},{take:t.take});default:return e}},sa={isSuccess:!1,errors:{},data:""},la=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H.GET_LOGIN:return Object(v.a)(Object(v.a)({},e),{},{isSuccess:!1});case H.GET_LOGIN_SUCCESS:return Object(v.a)(Object(v.a)({},e),{},{isSuccess:!0,data:t.payload});case H.LOGOUT_SUCCESS:return Object(v.a)(Object(v.a)({},e),{},{isSuccess:!1});case H.GET_LOGIN_FAILURE:return Object(v.a)(Object(v.a)({},e),{},{errors:t.errors});default:return e}},ua={searchParams:{}},da=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ua,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee.SET_SEARCH_PARAMS:return Object(v.a)(Object(v.a)({},e),{},{searchParams:t.payload});default:return e}},pa={isLoading:!1,errors:{}},ja=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re.CREATE_CONTACT:return Object(v.a)(Object(v.a)({},e),{},{isLoading:!0});case re.CREATE_CONTACT_SUCCESS:return Object(v.a)(Object(v.a)({},e),{},{isLoading:!1});case re.CREATE_CONTACT_FAILURE:return Object(v.a)(Object(v.a)({},e),{},{errors:{}});default:return e}},ba={isLoading:!1,errors:{}},ma=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ba,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie.UPDATE_CONTACT:return Object(v.a)(Object(v.a)({},e),{},{isLoading:!0});case ie.UPDATE_CONTACT_SUCCESS:return Object(v.a)(Object(v.a)({},e),{},{isLoading:!1});case ie.UPDATE_CONTACT_FAILURE:return Object(v.a)(Object(v.a)({},e),{},{errors:{}});default:return e}},ha={isDeleteLoading:!1,errors:{}},fa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue.DELETE_CONTACT:return Object(v.a)(Object(v.a)({},e),{},{isDeleteLoading:!0});case ue.DELETE_CONTACT_SUCCESS:return Object(v.a)(Object(v.a)({},e),{},{isDeleteLoading:!1});case ue.DELETE_CONTACT_FAILURE:return Object(v.a)(Object(v.a)({},e),{},{isDeleteLoading:!1,errors:{}});default:return e}},Oa={isDeleteLoading:!1,errors:{}},xa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P.SEND_MAIL:return Object(v.a)(Object(v.a)({},e),{},{isDeleteLoading:!0});case P.SEND_MAIL_SUCCESS:return Object(v.a)(Object(v.a)({},e),{},{isDeleteLoading:!1});case P.SEND_MAIL_FAILURE:return Object(v.a)(Object(v.a)({},e),{},{isDeleteLoading:!1,errors:{}});default:return e}},ga=a(176),Ca=Object(na.a)({basename:"/"}),va=function(e,t){var a=[ra.a,Object(ca.a)(e)],n=[],r="undefined"===typeof window?null:window;r&&r.REDUX_DEVTOOLS_EXTENSION&&n.push(r.REDUX_DEVTOOLS_EXTENSION());var c=function(e){return Object(k.combineReducers)({router:Object(x.b)(e),contacts:oa,login:la,search:da,createContact:ja,updateContact:ma,delete:fa,sendMail:xa})}(e);return Object(k.createStore)(c,t,ga.composeWithDevTools.apply(void 0,[k.applyMiddleware.apply(void 0,a)].concat(n)))}(Ca);O.a.render(Object(Pe.jsx)(L.a,{store:va,children:Object(Pe.jsx)(Ct.a,{children:Object(Pe.jsx)(ta,{history:Ca})})}),document.getElementById("root")),aa()},63:function(e,t,a){e.exports={wrapper:"mainPage_wrapper__hRIZm",container:"mainPage_container__2i5uo",root:"mainPage_root__1eDPF",link:"mainPage_link__3gtJl",nav:"mainPage_nav__39Qdx",navTitle:"mainPage_navTitle__2jWh3",title:"mainPage_title__2fefP",footer:"mainPage_footer__3VTRa",footerTitle:"mainPage_footerTitle__65sCs"}}},[[220,1,2]]]);
//# sourceMappingURL=main.4a9ed180.chunk.js.map